{"version":3,"sources":["webpack:///./src/views/Entrance/Login.vue?8d95","webpack:///./src/views/Entrance/Login.vue?b613","webpack:///src/views/Entrance/Login.vue","webpack:///./src/views/Entrance/Login.vue?4b4b","webpack:///./src/views/Entrance/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_v","staticClass","validateUsername","model","value","userform","callback","$$v","$set","expression","show2","validatePassword","on","$event","to_register","login","to_pass_ret","staticRenderFns","name","components","data","phone","password","checkPass","rules","pass","created","mounted","computed","methods","trim","pattern1","res1","test","$router","push","$axios","component","VBtn","VContainer","VMain","VRow","VTextField"],"mappings":"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","file":"js/chunk-352ef5e8.bbfe7ccd.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=566a5308&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-login\"}},[_c('v-main',[_c('div',{staticStyle:{\"font-family\":\"'bgtitlefamily'\",\"font-size\":\"48px\",\"color\":\"white\",\"margin\":\"15% 12%\"}},[_c('img',{staticStyle:{\"width\":\"50px\",\"position\":\"relative\",\"top\":\"10px\"},attrs:{\"src\":require(\"@/assets/app/logo.png\"),\"alt\":\"\"}}),_vm._v(\" 问卷系统 \")]),_c('div',{staticClass:\"area-input\"},[_c('div',{staticClass:\"head\"},[_c('span',{attrs:{\"id\":\"rec-grey\"}}),_c('span',{attrs:{\"id\":\"rec-white\"}}),_c('span',{attrs:{\"id\":\"title-words\"}},[_c('div',[_vm._v(\"登录\")]),_c('div',[_vm._v(\"Login\")])])]),_c('div',{staticClass:\"input-body\"},[_c('v-container',[_c('v-row',[_c('v-text-field',{staticClass:\"styled-text-field\",attrs:{\"label\":\"手机号\",\"placeholder\":\"手机号\",\"outlined\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\",\"rules\":[_vm.validateUsername]},model:{value:(_vm.userform.phone),callback:function ($$v) {_vm.$set(_vm.userform, \"phone\", $$v)},expression:\"userform.phone\"}})],1),_c('v-row',[_c('v-text-field',{staticClass:\"styled-text-field\",attrs:{\"label\":\"密码\",\"placeholder\":\"密码\",\"type\":_vm.show2 ? 'text' : 'password',\"append-icon\":_vm.show2 ? 'mdi-eye' : 'mdi-eye-off',\"outlined\":\"\",\"dense\":\"\",\"validate-on-blur\":\"\",\"rules\":[_vm.validatePassword]},on:{\"click:append\":function($event){_vm.show2 = !_vm.show2}},model:{value:(_vm.userform.password),callback:function ($$v) {_vm.$set(_vm.userform, \"password\", $$v)},expression:\"userform.password\"}})],1),_c('v-row',{attrs:{\"justify\":\"space-between\"}},[_c('v-btn',{attrs:{\"elevation\":\"2\",\"outlined\":\"\",\"width\":\"100px\",\"height\":\"40px\"},on:{\"click\":_vm.to_register}},[_vm._v(\"注  册 \")]),_c('v-btn',{attrs:{\"elevation\":\"2\",\"outlined\":\"\",\"width\":\"100px\",\"height\":\"40px\"},on:{\"click\":_vm.login}},[_vm._v(\"登  录 \")])],1),_c('v-row',{attrs:{\"id\":\"forget-pwd\",\"justify\":\"end\"}},[_c('a',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.to_pass_ret}},[_vm._v(\"忘记密码？\")]),_c('br')])],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div id=\"home-login\">\r\n    <v-main>\r\n      <div style=\"font-family:'bgtitlefamily';font-size:48px;color:white;margin:15% 12%;\">\r\n        <img src=\"@/assets/app/logo.png\" alt=\"\" style=\"width:50px;position:relative;top:10px;\">\r\n        问卷系统\r\n      </div>\r\n      <div class=\"area-input\">\r\n        <div class=\"head\">\r\n          <span id=\"rec-grey\"></span>\r\n          <span id=\"rec-white\"></span>\r\n          <span id=\"title-words\">\r\n            <div>登录</div>\r\n            <div>Login</div>\r\n          </span>\r\n        </div>\r\n        <div class=\"input-body\">\r\n          <v-container>\r\n            <v-row>\r\n              <v-text-field\r\n                class=\"styled-text-field\"\r\n                label=\"手机号\"\r\n                placeholder=\"手机号\"\r\n                outlined\r\n                dense\r\n                validate-on-blur\r\n                v-model=\"userform.phone\"\r\n                :rules=\"[validateUsername]\"\r\n              ></v-text-field>\r\n            </v-row>\r\n            <v-row>\r\n              <v-text-field\r\n                class=\"styled-text-field\"\r\n                label=\"密码\"\r\n                placeholder=\"密码\"\r\n                :type=\"show2 ? 'text' : 'password'\"\r\n                @click:append=\"show2 = !show2\"\r\n                :append-icon=\"show2 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                outlined\r\n                dense\r\n                v-model=\"userform.password\"\r\n                validate-on-blur\r\n                :rules=\"[validatePassword]\"\r\n              ></v-text-field>\r\n            </v-row>\r\n            <v-row justify=\"space-between\">\r\n              <v-btn\r\n                elevation=\"2\"\r\n                outlined\r\n                width=\"100px\"\r\n                height=\"40px\"\r\n                @click=\"to_register\"\r\n                >注&nbsp;&nbsp;册\r\n              </v-btn>\r\n              <v-btn\r\n                elevation=\"2\"\r\n                outlined\r\n                width=\"100px\"\r\n                height=\"40px\"\r\n                @click=\"login\"\r\n                >登&nbsp;&nbsp;录\r\n              </v-btn>\r\n            </v-row>\r\n            <v-row id=\"forget-pwd\" justify=\"end\">\r\n              <a @click=\"to_pass_ret\" style=\"cursor:pointer;\">忘记密码？</a><br/>\r\n            </v-row>\r\n          </v-container>\r\n        </div>\r\n      </div>\r\n    </v-main>\r\n  </div>\r\n</template>\r\n<script>\r\nimport \"@/assets/font/font.css\";\r\nexport default {\r\n  name: \"LoginCommon\",\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      show2:false,\r\n      userform: {\r\n        phone: \"\",\r\n        password: \"\",\r\n        checkPass: \"\",\r\n      },\r\n      rules: {\r\n        phone: [\r\n          {\r\n            required: true,\r\n            validator: this.validateUsername,\r\n            message: \"请输入您的名称\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        pass: [\r\n          { required: true, validator: this.validatePassword, trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    return;\r\n  },\r\n  mounted() {\r\n    return;\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    validatePassword(value) {\r\n      //TODO ?????\r\n      // console.log(\"called\");\r\n      if (value.trim() === \"\") {\r\n        return \"请输入密码\";\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    validateUsername(value) {\r\n      var pattern1 = /^1[3456789]\\d{9}$/;\r\n      var res1 = pattern1.test(value);\r\n      if ((res1) === false) {\r\n\r\n        return \"电话不符合格式\";\r\n      } else {\r\n        // console.log(\"yep:\" + value);\r\n        return true;\r\n      }\r\n    },\r\n    to_register() {\r\n      this.$router.push(\"/register\");\r\n    },\r\n    login() {\r\n      this.$axios({url:'/login',method:'post',data:this.userform})\r\n        .then((res) => {\r\n          if(res.data.status==true) {\r\n            console.log(res);\r\n            this.$message.success(\"登录成功\");\r\n            this.$store.commit('initUserId',res.data.user_id)\r\n            localStorage.setItem(\"id\", res.data.user_id);\r\n\r\n            if(this.$route.query.flag==1) this.$router.go(-1)\r\n            else this.$router.push('/home')\r\n          }\r\n          else this.$message.error({ type: \"error\", message: res.data.exec });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.$message.error({ type: \"error\", message: \"网络错误\" });\r\n        });\r\n    },\r\n    to_pass_ret() {\r\n      this.$router.push(\"/findpass\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.head {\r\n  margin-top: 120px;\r\n  margin-left: 40px;\r\n  width: 100%;\r\n  color: #585858;\r\n  font-size: 22px;\r\n  font-weight: 600;\r\n}\r\n#rec-grey {\r\n  width: 20px;\r\n  background: #585858;\r\n  height: 60px;\r\n  float: left;\r\n}\r\n#rec-white {\r\n  width: 20px;\r\n  height: 60px;\r\n  float: left;\r\n}\r\n#title-words {\r\n  font-size: 22px;\r\n  align-content: center;\r\n}\r\n.carousel {\r\n  position: relative;\r\n  top:22vh;\r\n  left:12vw;\r\n  height: 35vh;\r\n  width: 50vw;\r\n}\r\n.input-body {\r\n  margin-top: 30px;\r\n  margin-left: 40px;\r\n  margin-right: 30px;\r\n  /*background-color: blue;*/\r\n}\r\n\r\n.styled-text-field {\r\n  height: 60px;\r\n  /*font-size:20pt;*/\r\n}\r\n#forget-pwd {\r\n  margin-top: 30px;\r\n  margin-left: 0;\r\n  font-size: medium;\r\n}\r\n#home-login {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: url(\"../../assets/login/bg.jpg\");\r\n  background-size: 100% 100%;\r\n}\r\n.area-input {\r\n  position: fixed;\r\n  background-color: rgba(255,251,240,0.7);\r\n  float: right;\r\n  right: 0;\r\n  padding-top: 40px;\r\n  bottom: 0;\r\n  height: 100%;\r\n  width: 25%;\r\n  /*border:10px;*/\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=566a5308&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=566a5308&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"566a5308\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VMain,VRow,VTextField})\n"],"sourceRoot":""}